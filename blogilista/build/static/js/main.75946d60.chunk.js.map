{"version":3,"sources":["services/login.js","services/blogs.js","components/Notification.js","components/LoginForm.js","components/CreateNewBlog.js","components/Togglable.js","components/Blog.js","components/BlogsList.js","components/LoggedView.js","App.js","index.js"],"names":["services_login","login","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","credentials","response","wrap","_context","prev","next","axios","post","sent","abrupt","data","stop","_x","apply","this","arguments","services_blogs","getAll","get","then","createBlog","token","newObject","config","headers","Authorization","concat","_x2","likeBlog","_ref2","_callee2","blog","blogObjToUpdate","_context2","_id","id","user","likes","author","title","url","put","_x3","removeBlog","_ref3","_callee3","_context3","delete","_x4","_x5","Notification","message","react_default","createElement","className","error","text","LoginForm","username","password","setUsername","setPassword","handleLogin","onSubmit","components_Notification","value","onChange","type","CreateNewBlog","addNewBlog","_useState","useState","_useState2","slicedToArray","setTitle","_useState3","_useState4","setAuthor","_useState5","_useState6","setUrl","handleCreateBlog","e","newBlogObject","b","preventDefault","blogService","target","name","Togglable","props","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","style","onClick","buttonLabel","children","Blog","handleLike","handleRemove","showAll","setShowAll","backgroundColor","padding","margin","cursor","href","BlogsList","blogs","sortedBlogs","sort","length","map","key","components_Blog","LoggedView","handleLogout","handleAddNewBlog","components_Togglable","components_CreateNewBlog","components_BlogsList","App","setUser","_useState7","_useState8","setBlogs","_useState9","_useState10","setMessage","useEffect","loggedUserJson","window","localStorage","getItem","JSON","parse","bs","confirm","filter","updatedBlog","_user2","loginService","setItem","stringify","t0","setTimeout","components_LoginForm","components_LoggedView","removeItem","newBlog","ReactDOM","render","src_App","document","getElementById"],"mappings":"4OAQeA,EAAA,CAAEC,MALN,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACWC,IAAMC,KAHf,aAG6BP,GAD/B,cACNC,EADME,EAAAK,KAAAL,EAAAM,OAAA,SAELR,EAASS,MAFJ,wBAAAP,EAAAQ,SAAAZ,MAAH,gBAAAa,GAAA,OAAAnB,EAAAoB,MAAAC,KAAAC,YAAA,ICyCIC,EAAA,CAAEC,OAzCF,WAEb,OADgBX,IAAMY,IAHR,cAICC,KAAK,SAAAlB,GAAQ,OAAIA,EAASS,QAuClBU,WApCT,eAAA3B,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAOsB,EAAOC,GAAd,IAAAC,EAAAtB,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACXkB,EAAS,CACbC,QAAS,CAAEC,cAAa,UAAAC,OAAYL,KAFrBlB,EAAAE,KAAA,EAIMC,IAAMC,KAXf,aAW6Be,EAAWC,GAJrC,cAIXtB,EAJWE,EAAAK,KAAAL,EAAAM,OAAA,SAKVR,EAASS,MALC,wBAAAP,EAAAQ,SAAAZ,MAAH,gBAAAa,EAAAe,GAAA,OAAAlC,EAAAoB,MAAAC,KAAAC,YAAA,GAoCqBa,SA5BvB,eAAAC,EAAAnC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAgC,EAAMC,GAAN,IAAAC,EAAA/B,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5B,MAAA,cACT2B,EAAkB,CACtBE,IAAKH,EAAKI,GAMVC,KAAML,EAAKK,KAAKD,GAChBE,MAAON,EAAKM,MAAQ,EACpBC,OAAQP,EAAKO,OACbC,MAAOR,EAAKQ,MACZC,IAAKT,EAAKS,KAZGP,EAAA5B,KAAA,EAcQC,IAAMmC,IAAN,GAAAf,OA7BT,aA6BS,KAAAA,OAAwBK,EAAKI,IAAMH,GAd3C,cAcT/B,EAdSgC,EAAAzB,MAeNE,KAAK0B,KAAOL,EAAKK,KAfXH,EAAAxB,OAAA,SAgBRR,EAASS,MAhBD,wBAAAuB,EAAAtB,SAAAmB,MAAH,gBAAAY,GAAA,OAAAb,EAAAhB,MAAAC,KAAAC,YAAA,GA4BiC4B,WAT/B,eAAAC,EAAAlD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAA+C,EAAOd,EAAMV,GAAb,IAAAE,EAAAiB,EAAAvC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAA4C,GAAA,cAAAA,EAAA1C,KAAA0C,EAAAzC,MAAA,cACXkB,EAAS,CACbC,QAAS,CAAEC,cAAa,UAAAC,OAAYL,KAEhCmB,EAJW,GAAAd,OAlCH,aAkCG,KAAAA,OAISK,EAAKI,IAJdW,EAAAzC,KAAA,EAKMC,IAAMyC,OAAOP,EAAKjB,GALxB,cAKXtB,EALW6C,EAAAtC,KAAAsC,EAAArC,OAAA,SAMVR,EAASS,MANC,wBAAAoC,EAAAnC,SAAAkC,MAAH,gBAAAG,EAAAC,GAAA,OAAAL,EAAA/B,MAAAC,KAAAC,YAAA,ICpBDmC,EAbM,SAAAzD,GAAiB,IAAd0D,EAAc1D,EAAd0D,QACtB,OAAgB,OAAZA,EACK,KAKPC,EAAAvD,EAAAwD,cAAA,OAAKC,UAAWH,EAAQI,MAAQ,QAAU,WACvCJ,EAAQK,OCiCAC,EAvCG,SAAAhE,GAOZ,IANJ0D,EAMI1D,EANJ0D,QACAO,EAKIjE,EALJiE,SACAC,EAIIlE,EAJJkE,SACAC,EAGInE,EAHJmE,YACAC,EAEIpE,EAFJoE,YACAC,EACIrE,EADJqE,YAEA,OACEV,EAAAvD,EAAAwD,cAAA,WACED,EAAAvD,EAAAwD,cAAA,QAAMU,SAAUD,GACdV,EAAAvD,EAAAwD,cAAA,mCACAD,EAAAvD,EAAAwD,cAACW,EAAD,CAAcb,QAASA,IACvBC,EAAAvD,EAAAwD,cAAA,sBAEED,EAAAvD,EAAAwD,cAAA,SACEC,UAAU,WACVW,MAAOP,EACPQ,SAAUN,EACVO,KAAK,UAGTf,EAAAvD,EAAAwD,cAAA,sBAEED,EAAAvD,EAAAwD,cAAA,SACEC,UAAU,WACVa,KAAK,WACLF,MAAON,EACPO,SAAUL,KAGdT,EAAAvD,EAAAwD,cAAA,WACED,EAAAvD,EAAAwD,cAAA,SAAOc,KAAK,SAASF,MAAM,cCoBtBG,EArDO,SAAA3E,GAA0B,IAAvB2C,EAAuB3C,EAAvB2C,KAAMiC,EAAiB5E,EAAjB4E,WAAiBC,EACpBC,mBAAS,IADWC,EAAA9E,OAAA+E,EAAA,EAAA/E,CAAA4E,EAAA,GACvC/B,EADuCiC,EAAA,GAChCE,EADgCF,EAAA,GAAAG,EAElBJ,mBAAS,IAFSK,EAAAlF,OAAA+E,EAAA,EAAA/E,CAAAiF,EAAA,GAEvCrC,EAFuCsC,EAAA,GAE/BC,EAF+BD,EAAA,GAAAE,EAGxBP,mBAAS,IAHeQ,EAAArF,OAAA+E,EAAA,EAAA/E,CAAAoF,EAAA,GAGvCtC,EAHuCuC,EAAA,GAGlCC,EAHkCD,EAAA,GAKxCE,EAAgB,eAAApD,EAAAnC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAMmF,GAAN,IAAAC,EAAAC,EAAA,OAAAxF,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACvB6E,EAAEG,iBACIF,EAAgB,CAAE5C,QAAOD,SAAQE,OAFhBrC,EAAAE,KAAA,EAGPiF,EAAYlE,WAAWgB,EAAKf,MAAO8D,GAH5B,OAGjBC,EAHiBjF,EAAAK,KAIvBkE,EAAS,IACTG,EAAU,IACVG,EAAO,IACPX,EAAWe,GAPY,wBAAAjF,EAAAQ,SAAAZ,MAAH,gBAAAa,GAAA,OAAAiB,EAAAhB,MAAAC,KAAAC,YAAA,GAUtB,OAAOqC,EAAAvD,EAAAwD,cAAA,WACLD,EAAAvD,EAAAwD,cAAA,QAAMU,SAAUkB,GACd7B,EAAAvD,EAAAwD,cAAA,6BACAD,EAAAvD,EAAAwD,cAAA,oBAEED,EAAAvD,EAAAwD,cAAA,SACEY,MAAO1B,EACP2B,SAAU,SAAAgB,GAAC,OAAIR,EAASQ,EAAEK,OAAOtB,QACjCE,KAAK,OACLqB,KAAK,WAGTpC,EAAAvD,EAAAwD,cAAA,oBAEED,EAAAvD,EAAAwD,cAAA,SACEc,KAAK,OACLF,MAAO3B,EACP4B,SAAU,SAAAgB,GAAC,OAAIL,EAAUK,EAAEK,OAAOtB,QAClCuB,KAAK,YAGTpC,EAAAvD,EAAAwD,cAAA,iBAEED,EAAAvD,EAAAwD,cAAA,SACEc,KAAK,OACLF,MAAOzB,EACP0B,SAAU,SAAAgB,GAAC,OAAIF,EAAOE,EAAEK,OAAOtB,QAC/BuB,KAAK,SAGTpC,EAAAvD,EAAAwD,cAAA,WACED,EAAAvD,EAAAwD,cAAA,SAAOc,KAAK,SAASF,MAAM,eCnBpBwB,EA3BG,SAACC,GAAU,IAAApB,EACGC,oBAAS,GADZC,EAAA9E,OAAA+E,EAAA,EAAA/E,CAAA4E,EAAA,GACpBqB,EADoBnB,EAAA,GACXoB,EADWpB,EAAA,GAGrBqB,EAAkB,CAAEC,QAASH,EAAU,OAAS,IAChDI,EAAkB,CAAED,QAASH,EAAU,GAAK,QAE5CK,EAAmB,WACvBJ,GAAYD,IAGd,OACEvC,EAAAvD,EAAAwD,cAAA,WACED,EAAAvD,EAAAwD,cAAA,OAAK4C,MAAOJ,GACVzC,EAAAvD,EAAAwD,cAAA,UAAQ6C,QAASF,GAAmBN,EAAMS,cAE5C/C,EAAAvD,EAAAwD,cAAA,OAAK4C,MAAOF,GACTL,EAAMU,SACPhD,EAAAvD,EAAAwD,cAAA,UAAQ6C,QAASF,GAAjB,aCiCOK,EApDF,SAAA5G,GAA8C,IAA3CsC,EAA2CtC,EAA3CsC,KAAMuE,EAAqC7G,EAArC6G,WAAYC,EAAyB9G,EAAzB8G,aAAcnE,EAAW3C,EAAX2C,KAAWkC,EAC3BC,oBAAS,GADkBC,EAAA9E,OAAA+E,EAAA,EAAA/E,CAAA4E,EAAA,GAClDkC,EADkDhC,EAAA,GACzCiC,EADyCjC,EAAA,GAQzD,OACEpB,EAAAvD,EAAAwD,cAAA,WAEGmD,EAECpD,EAAAvD,EAAAwD,cAAA,OAAK4C,MAVM,CACfS,gBAAiB,UACjBC,QAAS,WACTC,OAAQ,WAQFxD,EAAAvD,EAAAwD,cAAA,MAAI4C,MAAO,CAAEY,OAAQ,WAAaX,QAAS,WACzCO,GAAYD,KAEXzE,EAAKQ,OAERa,EAAAvD,EAAAwD,cAAA,sBAActB,EAAKO,QACnBc,EAAAvD,EAAAwD,cAAA,wBAAgBtB,EAAKK,KAAKoD,KAAOzD,EAAKK,KAAKoD,KAAOzD,EAAKK,KAAKsB,UAC5DN,EAAAvD,EAAAwD,cAAA,mBAAUD,EAAAvD,EAAAwD,cAAA,KAAGyD,KAAM/E,EAAKS,KAAMT,EAAKS,MACnCY,EAAAvD,EAAAwD,cAAA,qBAAatB,EAAKM,MAChBe,EAAAvD,EAAAwD,cAAA,UACE6C,QAAS,WAAQI,EAAWvE,KAD9B,SAMDK,EAAKD,KAAOJ,EAAKK,KAAKD,GACnBiB,EAAAvD,EAAAwD,cAAA,UAAQ6C,QAAS,kBAAMK,EAAaxE,KAApC,UACA,MAINqB,EAAAvD,EAAAwD,cAAA,WACED,EAAAvD,EAAAwD,cAAA,OACE4C,MAAO,CAAEY,OAAQ,WACjBX,QAAS,WACPO,GAAYD,KAGdpD,EAAAvD,EAAAwD,cAAA,UACEC,UAAU,SACVvB,EAAKQ,OART,QAQ8BR,EAAKO,WCpB9ByE,EArBG,SAAAtH,GAA+C,IAA5CuH,EAA4CvH,EAA5CuH,MAAOV,EAAqC7G,EAArC6G,WAAYC,EAAyB9G,EAAzB8G,aAAcnE,EAAW3C,EAAX2C,KAE9C6E,EAAcD,EAAME,KAAK,SAACrH,EAAGuF,GAAJ,QAAYvF,EAAEwC,MAAQ+C,EAAE/C,SAEvD,OAAO2E,EAAMG,OAAS,EAEpB/D,EAAAvD,EAAAwD,cAAA,UAAK4D,EAAYG,IACf,SAAArF,GAAI,OAAIqB,EAAAvD,EAAAwD,cAAA,MAAIgE,IAAKtF,EAAKI,IACpBiB,EAAAvD,EAAAwD,cAACiE,EAAD,CACEvF,KAAMA,EACNuE,WAAYA,EACZC,aAAcA,EACdnE,KAAMA,QAKZ,MC6BWmF,EA1CI,SAAA9H,GAQb,IAPJuH,EAOIvH,EAPJuH,MACA5E,EAMI3C,EANJ2C,KACAoF,EAKI/H,EALJ+H,aACAC,EAIIhI,EAJJgI,iBACAnB,EAGI7G,EAHJ6G,WACAC,EAEI9G,EAFJ8G,aACApD,EACI1D,EADJ0D,QAGA,OACEC,EAAAvD,EAAAwD,cAAA,WACED,EAAAvD,EAAAwD,cAAA,mBACAD,EAAAvD,EAAAwD,cAAA,SAAIjB,EAAKoD,KAAOpD,EAAKoD,KAAOpD,EAAKsB,SAAjC,gBACEN,EAAAvD,EAAAwD,cAAA,UAAQ6C,QAASsB,GAAjB,WAEFpE,EAAAvD,EAAAwD,cAACW,EAAD,CAAcb,QAASA,IACvBC,EAAAvD,EAAAwD,cAACqE,EAAD,CAAWvB,YAAY,YACrB/C,EAAAvD,EAAAwD,cAACsE,EAAD,CACEvF,KAAMA,EACNiC,WAAYoD,KAGhBrE,EAAAvD,EAAAwD,cAACuE,EAAD,CACEZ,MAAOA,EACPV,WAAYA,EACZC,aAAcA,EACdnE,KAAMA,MCmFCyF,SA3GH,WAAO,IAAAvD,EACeC,mBAAS,IADxBC,EAAA9E,OAAA+E,EAAA,EAAA/E,CAAA4E,EAAA,GACVZ,EADUc,EAAA,GACAZ,EADAY,EAAA,GAAAG,EAEeJ,mBAAS,IAFxBK,EAAAlF,OAAA+E,EAAA,EAAA/E,CAAAiF,EAAA,GAEVhB,EAFUiB,EAAA,GAEAf,EAFAe,EAAA,GAAAE,EAGOP,mBAAS,MAHhBQ,EAAArF,OAAA+E,EAAA,EAAA/E,CAAAoF,EAAA,GAGV1C,EAHU2C,EAAA,GAGJ+C,EAHI/C,EAAA,GAAAgD,EAISxD,mBAAS,IAJlByD,EAAAtI,OAAA+E,EAAA,EAAA/E,CAAAqI,EAAA,GAIVf,EAJUgB,EAAA,GAIHC,EAJGD,EAAA,GAAAE,EAKa3D,mBAAS,MALtB4D,EAAAzI,OAAA+E,EAAA,EAAA/E,CAAAwI,EAAA,GAKV/E,EALUgF,EAAA,GAKDC,EALCD,EAAA,GAOjBE,oBAAU,WACR,IAAMC,EAAiBC,OAAOC,aAAaC,QAAQ,qBACnD,GAAIH,EAAgB,CAClB,IAAMlG,EAAOsG,KAAKC,MAAML,GACxBR,EAAQ1F,GAGVkD,EACGrE,SACAE,KAAK,SAAAyH,GAAE,OAAIX,EAASW,MACtB,IAEH,IAAMrC,EAAY,eAAA9G,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAMgC,GAAN,OAAAnC,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WAEHkI,OAAOM,QAAP,oCAAAnH,OAAmDK,EAAKQ,MAAxD,SAAAb,OAAqEK,EAAKO,OAA1E,MAFG,CAAAnC,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAIXiF,EAAY3C,WAAWZ,EAAMK,EAAKf,OAJvB,OAKjB4G,EAASjB,EAAM8B,OAAO,SAAA1D,GAAC,OAAIA,EAAEjD,KAAOJ,EAAKI,MALxB,wBAAAhC,EAAAQ,SAAAZ,MAAH,gBAAAa,GAAA,OAAAnB,EAAAoB,MAAAC,KAAAC,YAAA,GASZuF,EAAU,eAAAzE,EAAAnC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAgC,EAAMC,GAAN,IAAAgH,EAAA,OAAAnJ,EAAAC,EAAAK,KAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5B,MAAA,cAAA4B,EAAA5B,KAAA,EACSiF,EAAY1D,SAASG,GAD9B,OACXgH,EADW9G,EAAAzB,KAEjByH,EAASjB,EAAMI,IAAI,SAAAhC,GAAC,OAAIA,EAAEjD,KAAO4G,EAAY5G,GAAK4G,EAAc3D,KAF/C,wBAAAnD,EAAAtB,SAAAmB,MAAH,gBAAAH,GAAA,OAAAE,EAAAhB,MAAAC,KAAAC,YAAA,GAKV+C,EAAW,eAAAlB,EAAAlD,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAA+C,EAAMqC,GAAN,IAAA8D,EAAA,OAAApJ,EAAAC,EAAAK,KAAA,SAAA4C,GAAA,cAAAA,EAAA1C,KAAA0C,EAAAzC,MAAA,cAAAyC,EAAA1C,KAAA,EAEhB8E,EAAEG,iBAFcvC,EAAAzC,KAAA,EAGG4I,EAAazJ,MAAM,CAAEkE,WAAWC,aAHnC,OAGVvB,EAHUU,EAAAtC,KAIhB+H,OAAOC,aAAaU,QAAQ,oBAAqBR,KAAKS,UAAU/G,IAChE0F,EAAQ1F,GACRwB,EAAY,IACZC,EAAY,IAPIf,EAAAzC,KAAA,iBAAAyC,EAAA1C,KAAA,GAAA0C,EAAAsG,GAAAtG,EAAA,SAUhBc,EAAY,IACZC,EAAY,IACZuE,EAAW,CACT5E,KAAM,6BACND,OAAO,IAET8F,WAAW,WACTjB,EAAW,OACV,KAlBa,yBAAAtF,EAAAnC,SAAAkC,EAAA,kBAAH,gBAAAH,GAAA,OAAAE,EAAA/B,MAAAC,KAAAC,YAAA,GAwCjB,OACEqC,EAAAvD,EAAAwD,cAAA,WAUY,OAATjB,EACIgB,EAAAvD,EAAAwD,cAACiG,EAAD,CACDnG,QAASA,EACTO,SAAUA,EACVC,SAAUA,EACVC,YAAa,SAAAsB,GAAC,OAAItB,EAAYsB,EAAEK,OAAOtB,QACvCJ,YAAa,SAAAqB,GAAC,OAAIrB,EAAYqB,EAAEK,OAAOtB,QACvCH,YAAaA,IAEbV,EAAAvD,EAAAwD,cAACkG,EAAD,CACAvC,MAAOA,EACP5E,KAAMA,EACNoF,aAzCa,WACnBM,EAAQ,MACRS,OAAOC,aAAagB,WAAW,sBAwCzB/B,iBArCiB,SAAAgC,GACvBxB,EAASjB,EAAMtF,OAAO+H,IACtBrB,EAAW,CACT5E,KAAI,uBAAA9B,OAAyB+H,EAAQlH,MAAjC,UAAAb,OAA+C+H,EAAQnH,QAC3DiB,OAAO,IAET8F,WAAW,WACTjB,EAAW,OACV,MA8BG9B,WAAYA,EACZC,aAAcA,EACdpD,QAASA,OC1GnBuG,IAASC,OAAOvG,EAAAvD,EAAAwD,cAACuG,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.75946d60.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }\n","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst createBlog = async (token, newObject) => {\n  const config = {\n    headers: { Authorization: `bearer ${token}` },\n  }\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst likeBlog = async blog => {\n  const blogObjToUpdate = {\n    _id: blog.id,\n    // user: {\n    //   _id: blog.user.id,\n    //   username: blog.user.username,\n    //   name: blog.user.name,\n    // },\n    user: blog.user.id,\n    likes: blog.likes + 1,\n    author: blog.author,\n    title: blog.title,\n    url: blog.url,\n  }\n  const response = await axios.put(`${baseUrl}/${blog.id}`, blogObjToUpdate)\n  response.data.user = blog.user\n  return response.data\n}\n\nconst removeBlog = async (blog, token) => {\n  const config = {\n    headers: { Authorization: `bearer ${token}` },\n  }\n  const url = `${baseUrl}/${blog.id}`\n  const response = await axios.delete(url, config)\n  return response.data\n}\n\nexport default { getAll, createBlog, likeBlog, removeBlog }\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n\n  return (\n    <div className={message.error ? 'error' : 'success'}>\n      {message.text}\n    </div>\n  )\n}\n\nexport default Notification\n","import React from 'react'\n\nimport Notification from './Notification'\n\nconst LoginForm = ({\n  message,\n  username,\n  password,\n  setUsername,\n  setPassword,\n  handleLogin\n}) => {\n  return (\n    <div >\n      <form onSubmit={handleLogin}>\n        <h1>log in to application</h1>\n        <Notification message={message} />\n        <div>\n          username\n          <input\n            className=\"username\"\n            value={username}\n            onChange={setUsername}\n            type=\"text\"\n          />\n        </div>\n        <div>\n          password\n          <input\n            className=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={setPassword}\n          />\n        </div>\n        <div>\n          <input type=\"submit\" value=\"login\" />\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default LoginForm\n","import React, { useState } from 'react'\nimport blogService from '../services/blogs'\n\nconst CreateNewBlog = ({ user, addNewBlog }) => {\n  const [title, setTitle] = useState('')\n  const [author, setAuthor] = useState('')\n  const [url, setUrl] = useState('')\n\n  const handleCreateBlog = async e => {\n    e.preventDefault()\n    const newBlogObject = { title, author, url }\n    const b = await blogService.createBlog(user.token, newBlogObject)\n    setTitle('')\n    setAuthor('')\n    setUrl('')\n    addNewBlog(b)\n  }\n\n  return <div>\n    <form onSubmit={handleCreateBlog}>\n      <h2>Create new blog</h2>\n      <div>\n        title:\n        <input\n          value={title}\n          onChange={e => setTitle(e.target.value)}\n          type=\"text\"\n          name=\"title\"\n        />\n      </div>\n      <div>\n        author\n        <input\n          type=\"text\"\n          value={author}\n          onChange={e => setAuthor(e.target.value)}\n          name=\"author\"\n        />\n      </div>\n      <div>\n        url\n        <input\n          type=\"text\"\n          value={url}\n          onChange={e => setUrl(e.target.value)}\n          name=\"url\"\n        />\n      </div>\n      <div>\n        <input type=\"submit\" value=\"create\" />\n      </div>\n    </form>\n\n  </div>\n}\n\nexport default CreateNewBlog\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\n\nconst Togglable = (props) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )\n}\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired,\n}\n\nexport default Togglable\n","import React, { useState } from 'react'\nconst Blog = ({ blog, handleLike, handleRemove, user }) => {\n  const [showAll, setShowAll] = useState(false)\n\n  const divStyle = {\n    backgroundColor: '#E0E0E0',\n    padding: '1px 15px',\n    margin: '10px 0',\n  }\n  return (\n    <div>\n\n      {showAll\n        ?\n        <div style={divStyle}>\n          <h2 style={{ cursor: 'pointer' }} onClick={() => {\n            setShowAll(!showAll)\n          }}>\n            {blog.title}\n          </h2>\n          <div>author: {blog.author}</div>\n          <div>added by: {blog.user.name ? blog.user.name : blog.user.username}</div>\n          <div>url: <a href={blog.url}>{blog.url}</a></div>\n          <div>likes: {blog.likes}\n            <button\n              onClick={() => { handleLike(blog) }}\n            >\n                  like\n            </button>\n          </div>\n          {user.id === blog.user.id\n            ? <button onClick={() => handleRemove(blog)}>remove</button>\n            : null\n          }\n        </div>\n        :\n        <div>\n          <div\n            style={{ cursor: 'pointer' }}\n            onClick={() => {\n              setShowAll(!showAll)\n            }}\n          >\n            <strong\n              className=\"title\"\n            >{blog.title}</strong>, by {blog.author}\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Blog\n","import React from 'react'\n\nimport Blog from './Blog'\n\nconst BlogsList = ({ blogs, handleLike, handleRemove, user }) => {\n\n  const sortedBlogs = blogs.sort((a, b) => -(a.likes - b.likes))\n\n  return blogs.length > 0\n    ?\n    <ul>{sortedBlogs.map(\n      blog => <li key={blog.id}>\n        <Blog\n          blog={blog}\n          handleLike={handleLike}\n          handleRemove={handleRemove}\n          user={user}\n        />\n      </li>)}\n    </ul>\n    :\n    null\n}\n\n\nexport default BlogsList\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport Notification from './Notification'\nimport CreateNewBlog from './CreateNewBlog'\nimport Togglable from './Togglable'\nimport BlogsList from './BlogsList'\n\nconst LoggedView = ({\n  blogs,\n  user,\n  handleLogout,\n  handleAddNewBlog,\n  handleLike,\n  handleRemove,\n  message\n}) => {\n\n  return (\n    <div>\n      <h1>Blogs</h1>\n      <p>{user.name ? user.name : user.username} is logged in\n        <button onClick={handleLogout}>logout</button>\n      </p>\n      <Notification message={message} />\n      <Togglable buttonLabel=\"new blog\">\n        <CreateNewBlog\n          user={user}\n          addNewBlog={handleAddNewBlog}\n        />\n      </Togglable>\n      <BlogsList\n        blogs={blogs}\n        handleLike={handleLike}\n        handleRemove={handleRemove}\n        user={user}\n      />\n    </div>\n  )\n}\n\nLoggedView.propTypes = {\n  blogs: PropTypes.array.isRequired,\n  user: PropTypes.object.isRequired,\n  handleLogout: PropTypes.func.isRequired,\n  handleAddNewBlog: PropTypes.func.isRequired,\n  handleLike: PropTypes.func.isRequired,\n  handleRemove: PropTypes.func.isRequired,\n  message: PropTypes.string,\n}\nexport default LoggedView\n","import React, { useState, useEffect } from 'react'\nimport loginService from './services/login'\nimport blogService from './services/blogs'\n\nimport LoginForm from './components/LoginForm'\nimport LoggedView from './components/LoggedView'\n\nimport './index.css'\n\n// import SimpleBlog from './components/SimpleBlog'\n\nconst App = () =>  {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n  const [blogs, setBlogs] = useState([])\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    const loggedUserJson = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJson) {\n      const user = JSON.parse(loggedUserJson)\n      setUser(user)\n    }\n\n    blogService\n      .getAll()\n      .then(bs => setBlogs(bs))\n  }, [])\n\n  const handleRemove = async blog => {\n\n    const confirm = window.confirm(`Are you sure you want to remove \"${blog.title}\" by ${blog.author}?`)\n    if (confirm ) {\n      await blogService.removeBlog(blog, user.token)\n      setBlogs(blogs.filter(b => b.id !== blog.id))\n    }\n  }\n\n  const handleLike = async blog => {\n    const updatedBlog = await blogService.likeBlog(blog)\n    setBlogs(blogs.map(b => b.id === updatedBlog.id ? updatedBlog : b))\n  }\n\n  const handleLogin = async e => {\n    try {\n      e.preventDefault()\n      const user = await loginService.login({ username , password })\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user))\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    }\n    catch (exception) {\n      setUsername('')\n      setPassword('')\n      setMessage({\n        text: 'wrong username or password',\n        error: true,\n      })\n      setTimeout(() => {\n        setMessage(null)\n      }, 3000)\n    }\n  }\n\n  const handleLogout = () => {\n    setUser(null)\n    window.localStorage.removeItem('loggedBlogappUser')\n  }\n\n  const handleAddNewBlog = newBlog => {\n    setBlogs(blogs.concat(newBlog))\n    setMessage({\n      text: `you added new blog '${newBlog.title}', by ${newBlog.author}`,\n      error: false,\n    })\n    setTimeout(() => {\n      setMessage(null)\n    }, 3000)\n  }\n\n\n\n  return (\n    <div>\n      {/* <SimpleBlog */}\n      {/*   blog={{ */}\n      {/*     title: 'Simple blog title', */}\n      {/*     author: 'Sergei', */}\n      {/*     likes: 0, */}\n      {/*   }} */}\n      {/*   onClick={() => console.log('simpleBlog')} */}\n      {/* /> */}\n\n      {user === null\n        ?  <LoginForm\n          message={message}\n          username={username}\n          password={password}\n          setUsername={e => setUsername(e.target.value)}\n          setPassword={e => setPassword(e.target.value)}\n          handleLogin={handleLogin}\n        />\n        : <LoggedView\n          blogs={blogs}\n          user={user}\n          handleLogout={handleLogout}\n          handleAddNewBlog={handleAddNewBlog}\n          handleLike={handleLike}\n          handleRemove={handleRemove}\n          message={message}\n        />\n      }\n    </div>\n  )\n}\n\nexport default App\n","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}